var iconElement=document.querySelector(".weatherIcon"),tempElement=document.querySelector(".weatherValue p"),descElement=document.querySelector(".weatherDescription p"),weather={temperature:{unit:"celsius"}},tempUnit=CONFIG.weatherUnit,KELVIN=273.15,key="".concat(CONFIG.weatherKey);function setPosition(e){if(!CONFIG.trackLocation||!navigator.geolocation)return CONFIG.trackLocation&&console.error("Geolocation not available"),void getWeather(CONFIG.defaultLatitude,CONFIG.defaultLongitude);navigator.geolocation.getCurrentPosition((function(e){getWeather(e.coords.latitude.toFixed(3),e.coords.longitude.toFixed(3))}),(function(e){console.error(e),getWeather(CONFIG.defaultLatitude,CONFIG.defaultLongitude)}))}function getWeather(e,t){var n="https://api.openweathermap.org/data/2.5/weather?lat=".concat(e,"&lon=").concat(t,"&lang=").concat(CONFIG.language,"&appid=").concat(key);fetch(n).then((function(e){return e.json()})).then((function(e){var t=Math.floor(e.main.temp-KELVIN);weather.temperature.value="C"==tempUnit?t:9*t/5+32,weather.description=e.weather[0].description,weather.iconId=e.weather[0].icon})).then((function(){displayWeather()}))}function displayWeather(){iconElement.innerHTML='<img src="./assets/icons/'.concat(CONFIG.weatherIcons,"/").concat(weather.iconId,'.png"/>'),tempElement.innerHTML="".concat(weather.temperature.value.toFixed(0),'Â°<span class="darkfg">').concat(tempUnit,"</span>"),descElement.innerHTML=weather.description}setPosition();
//# sourceMappingURL=index.de79e744.js.map
