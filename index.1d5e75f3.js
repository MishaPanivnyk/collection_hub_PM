var _createClass=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var amount=20;function rndIntBtwn(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function rndFloatBtwn(t,i){return Math.random()*(i-t)+t}var Snowfall=function(){function t(i){_classCallCheck(this,t);var e=document.createElement("canvas");e.setAttribute("id","snow_light"),this.ctx=e.getContext("2d"),this.counter=0,this.particles=[],this.running=!0,this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height,this.id="snow_light",this.maxDiameter=7,this.startY=.5*-this.maxDiameter,this.endY=this.height+.5*this.maxDiameter,this.showPaths=!1,i.appendChild(e),window.addEventListener("resize",this.handleResize.bind(this)),window.addEventListener("click",this.handleClick.bind(this)),this.handleResize()}return _createClass(t,[{key:"addParticle",value:function(){var t=rndIntBtwn(0,this.width),i=this.startY,e=rndIntBtwn(1,this.maxDiameter),n="rgba(255, 255, 255, "+rndFloatBtwn(.8,1)+")",h=new Particle(this.ctx,t,i,e,n);this.particles.push(h)}},{key:"handleClick",value:function(t){}},{key:"handleResize",value:function(){this.ctx.canvas.width=this.width=window.innerWidth,this.ctx.canvas.height=this.height=window.innerHeight,this.endY=this.height+.5*this.maxDiameter}},{key:"render",value:function(t){var i=this;if(this.running){var e=t||0;this.counter>amount&&(this.addParticle(),this.counter=0),this.showPaths||this.ctx.clearRect(0,0,this.width,this.height),this.particles.forEach((function(t,i){t.x+=Math.sin(e*t.freqFactor)*t.ampFactor,t.y+=t.speed,t.draw()})),this.particles=this.particles.filter((function(t){return t.y<=i.height})),this.counter++,window.requestAnimationFrame(this.render.bind(this))}}}]),t}(),Particle=function(){function t(i,e,n,h,s,a){_classCallCheck(this,t),this.color=s,this.ctx=i,this.glow=rndIntBtwn(2,10),this.radius=.5*h,this.x=e,this.y=n,this.speed=.1*h,this.freqFactor=1e-4*rndFloatBtwn(5,9),this.ampFactor=.1*rndFloatBtwn(2,5)}return _createClass(t,[{key:"draw",value:function(){this.ctx.shadowBlur=this.glow,this.ctx.shadowOffset=0,this.ctx.shadowColor=this.color,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}}]),t}();new Snowfall(document.documentElement).render();
//# sourceMappingURL=index.1d5e75f3.js.map
