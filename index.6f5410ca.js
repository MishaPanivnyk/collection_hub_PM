var _createClass=function(){function t(t,i){for(var n=0;n<i.length;n++){var e=i[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,n,e){return n&&t(i.prototype,n),e&&t(i,e),i}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var amount=20;function rndIntBtwn(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function rndFloatBtwn(t,i){return Math.random()*(i-t)+t}var Snowfall=function(){function t(i){_classCallCheck(this,t);var n=document.createElement("canvas");n.setAttribute("id","snow_light"),this.ctx=n.getContext("2d"),this.counter=0,this.particles=[],this.running=!0,this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height,this.id="snow_light",this.maxDiameter=7,this.startY=.5*-this.maxDiameter,this.endY=this.height+.5*this.maxDiameter,this.showPaths=!1,i.appendChild(n),window.addEventListener("resize",this.handleResize.bind(this)),window.addEventListener("click",this.handleClick.bind(this)),this.handleResize()}return _createClass(t,[{key:"addParticle",value:function(){var t=rndIntBtwn(0,this.width),i=this.startY,n=rndIntBtwn(1,this.maxDiameter),e="rgba(255, 255, 255, "+rndFloatBtwn(.8,1)+")",s=new Particle(this.ctx,t,i,n,e);this.particles.push(s)}},{key:"handleClick",value:function(t){var i=t.target.closest("button");i&&(this.running?(this.running=!1,i.textContent="play"):(this.running=!0,i.textContent="pause"),this.render())}},{key:"handleResize",value:function(){this.ctx.canvas.width=this.width=window.innerWidth,this.ctx.canvas.height=this.height=window.innerHeight,this.endY=this.height+.5*this.maxDiameter}},{key:"render",value:function(t){var i=this;if(this.running){var n=t||0;this.counter>amount&&(this.addParticle(),this.counter=0),this.showPaths||this.ctx.clearRect(0,0,this.width,this.height),this.particles.forEach((function(t,i){t.x+=Math.sin(n*t.freqFactor)*t.ampFactor,t.y+=t.speed,t.draw()})),this.particles=this.particles.filter((function(t){return t.y<=i.height})),this.counter++,window.requestAnimationFrame(this.render.bind(this))}}}]),t}(),Particle=function(){function t(i,n,e,s,h,a){_classCallCheck(this,t),this.color=h,this.ctx=i,this.glow=rndIntBtwn(2,10),this.radius=.5*s,this.x=n,this.y=e,this.speed=.1*s,this.freqFactor=1e-4*rndFloatBtwn(5,9),this.ampFactor=.1*rndFloatBtwn(2,5)}return _createClass(t,[{key:"draw",value:function(){this.ctx.shadowBlur=this.glow,this.ctx.shadowOffset=0,this.ctx.shadowColor=this.color,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.ctx.closePath(),this.ctx.fill()}}]),t}();new Snowfall(document.documentElement).render();
//# sourceMappingURL=index.6f5410ca.js.map
